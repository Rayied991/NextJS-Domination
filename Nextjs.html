<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Next.js Complete Guide - Visual Diagrams</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: white;
            font-size: 3rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            text-align: center;
            color: rgba(255,255,255,0.9);
            font-size: 1.2rem;
            margin-bottom: 3rem;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .tab-button {
            padding: 12px 24px;
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .tab-button:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .tab-button.active {
            background: white;
            color: #667eea;
            border-color: white;
        }

        .diagram-container {
            display: none;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: fadeIn 0.5s ease;
        }

        .diagram-container.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .diagram-title {
            font-size: 2rem;
            color: #667eea;
            margin-bottom: 10px;
            text-align: center;
        }

        .diagram-description {
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 30px;
            text-align: center;
            line-height: 1.6;
        }

        .mermaid {
            display: flex;
            justify-content: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            overflow-x: auto;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .info-box h3 {
            color: #1976d2;
            margin-bottom: 10px;
        }

        .info-box ul {
            margin-left: 20px;
            color: #555;
        }

        .info-box li {
            margin: 5px 0;
        }

        .legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: #f5f5f5;
            border-radius: 5px;
        }

        .color-box {
            width: 30px;
            height: 30px;
            border-radius: 5px;
            border: 2px solid #ddd;
        }

        .zoom-controls {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            gap: 10px;
            z-index: 1000;
        }

        .zoom-btn {
            width: 50px;
            height: 50px;
            background: white;
            border: none;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }

        .zoom-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(0,0,0,0.3);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .diagram-container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä Next.js Complete Visual Guide</h1>
        <p class="subtitle">Interactive flowcharts to master Next.js development</p>
        
        <div class="tabs">
            <button class="tab-button active" onclick="showDiagram('complete')">Complete Workflow</button>
            <button class="tab-button" onclick="showDiagram('component')">Component Decision</button>
            <button class="tab-button" onclick="showDiagram('rendering')">Rendering Strategies</button>
        </div>

        <!-- Complete Workflow Diagram -->
        <div id="complete" class="diagram-container active">
            <h2 class="diagram-title">üöÄ Complete Next.js Development Workflow</h2>
            <p class="diagram-description">From project setup to deployment - your complete roadmap</p>
            
            <div class="info-box">
                <h3>üìã What This Diagram Shows:</h3>
                <ul>
                    <li>Complete project initialization and setup process</li>
                    <li>Decision points for components, routes, and data fetching</li>
                    <li>All rendering strategies and when to use them</li>
                    <li>Built-in optimizations and features</li>
                    <li>Deployment and monitoring workflow</li>
                </ul>
            </div>

            <div class="mermaid">
graph TB
    Start([Start New Next.js Project]) --> Install[npx create-next-app@latest]
    Install --> Config{Configure Project}
    Config --> |TypeScript| TS[‚úì Enable TypeScript]
    Config --> |ESLint| ESL[‚úì Enable ESLint]
    Config --> |Tailwind| TW[‚úì Enable Tailwind CSS]
    Config --> |App Router| AR[‚úì Use App Router]
    
    TS --> ProjectStructure[Project Structure Created]
    ESL --> ProjectStructure
    TW --> ProjectStructure
    AR --> ProjectStructure
    
    ProjectStructure --> RootFiles{Root Files}
    
    RootFiles --> Config1[next.config.ts<br/>Main Next.js config]
    RootFiles --> Config2[tsconfig.json<br/>TypeScript config]
    RootFiles --> Config3[package.json<br/>Dependencies & scripts]
    RootFiles --> Config4[eslint.config.mjs<br/>Linting rules]
    
    Config1 --> AppDir[app/ Directory]
    Config2 --> AppDir
    Config3 --> AppDir
    Config4 --> AppDir
    
    AppDir --> CoreFiles{Core Files in app/}
    
    CoreFiles --> Layout[layout.tsx<br/>Main entry point<br/>Wraps all pages]
    CoreFiles --> Page[page.tsx<br/>Route component<br/>Defines UI]
    CoreFiles --> Global[globals.css<br/>Global styles]
    CoreFiles --> Favicon[favicon.ico<br/>Site icon]
    
    Layout --> ComponentDecision{Need to Create Component?}
    Page --> ComponentDecision
    
    ComponentDecision --> |Yes| ComponentType{Component Type?}
    ComponentDecision --> |No| RouteDecision
    
    ComponentType --> ServerOrClient{Need Browser<br/>Interactivity?}
    
    ServerOrClient --> |NO<br/>Database access<br/>File system<br/>Sensitive data| ServerComp[Server Component<br/>DEFAULT<br/>No 'use client']
    
    ServerOrClient --> |YES<br/>onClick<br/>useState<br/>useEffect<br/>Browser APIs| ClientComp[Client Component<br/>'use client' directive]
    
    ServerComp --> Benefits1[‚úì Reduced bundle size<br/>‚úì Better security<br/>‚úì Direct server access<br/>‚úì Better SEO]
    ClientComp --> Benefits2[‚úì Interactive UI<br/>‚úì Event handlers<br/>‚úì React hooks<br/>‚úì Browser APIs]
    
    Benefits1 --> RouteDecision
    Benefits2 --> RouteDecision
    
    RouteDecision{Add New Route?}
    RouteDecision --> |Yes| RouteType{Route Type?}
    RouteDecision --> |No| DataFetch
    
    RouteType --> StaticRoute[Static Route<br/>app/about/page.tsx<br/>‚Üí /about]
    RouteType --> DynamicRoute[Dynamic Route<br/>app/blog/slug/page.tsx<br/>‚Üí /blog/post-name]
    RouteType --> APIRoute[API Route<br/>app/api/users/route.ts<br/>‚Üí /api/users]
    
    StaticRoute --> DataFetch
    DynamicRoute --> DataFetch
    APIRoute --> DataFetch
    
    DataFetch{Need Data Fetching?}
    
    DataFetch --> |Server Side| ServerFetch{Fetching Strategy}
    DataFetch --> |Client Side| ClientFetch[Client-Side Fetching<br/>useState + useEffect<br/>Real-time data]
    DataFetch --> |No| RenderStrategy
    
    ServerFetch --> Parallel[Parallel Fetching<br/>Promise.all<br/>Multiple independent requests]
    ServerFetch --> Sequential[Sequential Fetching<br/>await each<br/>Dependent requests]
    ServerFetch --> Direct[Direct DB Access<br/>Prisma/ORM<br/>Server components only]
    
    Parallel --> RenderStrategy
    Sequential --> RenderStrategy
    Direct --> RenderStrategy
    ClientFetch --> RenderStrategy
    
    RenderStrategy{Choose Rendering Strategy}
    
    RenderStrategy --> SSR[SSR - Server-Side Rendering<br/>cache: 'no-store'<br/>Dynamic content<br/>Personalized pages]
    
    RenderStrategy --> SSG[SSG - Static Site Generation<br/>cache: 'force-cache'<br/>Pre-rendered at build<br/>Blogs, marketing]
    
    RenderStrategy --> ISR[ISR - Incremental Static Regeneration<br/>revalidate: 3600<br/>Update after deploy<br/>E-commerce, news]
    
    RenderStrategy --> CSR[CSR - Client-Side Rendering<br/>'use client'<br/>Highly interactive<br/>Dashboards, real-time]
    
    SSR --> Optimization
    SSG --> Optimization
    ISR --> Optimization
    CSR --> Optimization
    
    Optimization{Optimizations Needed?}
    
    Optimization --> Images[Image Optimization<br/>next/image<br/>Auto compression<br/>Lazy loading]
    
    Optimization --> Fonts[Font Optimization<br/>next/font<br/>Pre-loading<br/>Layout shift prevention]
    
    Optimization --> Scripts[Script Optimization<br/>next/script<br/>Loading strategy<br/>Non-blocking]
    
    Optimization --> CodeSplit[Code Splitting<br/>Automatic per route<br/>dynamic import<br/>Smaller bundles]
    
    Images --> Features
    Fonts --> Features
    Scripts --> Features
    CodeSplit --> Features
    
    Features{Additional Features?}
    
    Features --> Middleware[Middleware<br/>middleware.ts<br/>Auth checks<br/>Redirects<br/>A/B testing]
    
    Features --> ServerActions[Server Actions<br/>'use server'<br/>Form handling<br/>Direct server calls<br/>No API needed]
    
    Features --> Metadata[Metadata & SEO<br/>Static metadata<br/>Dynamic generateMetadata<br/>Sitemap<br/>robots.txt]
    
    Features --> Loading[Loading States<br/>loading.tsx<br/>Suspense boundaries<br/>Streaming]
    
    Features --> ErrorHandle[Error Handling<br/>error.tsx<br/>not-found.tsx<br/>Error boundaries]
    
    Middleware --> Deployment
    ServerActions --> Deployment
    Metadata --> Deployment
    Loading --> Deployment
    ErrorHandle --> Deployment
    
    Deployment{Deploy Application}
    
    Deployment --> Build[npm run build<br/>Production build<br/>Optimization<br/>Tree shaking]
    
    Build --> Platform{Deployment Platform}
    
    Platform --> Vercel[Vercel<br/>Zero-config<br/>Edge runtime<br/>Auto-scaling]
    
    Platform --> Other[AWS/Azure/GCP<br/>Docker<br/>Custom setup]
    
    Vercel --> Live[üéâ Application Live!]
    Other --> Live
    
    Live --> Monitor{Monitor & Maintain}
    
    Monitor --> Analytics[Performance metrics<br/>Core Web Vitals<br/>User analytics]
    
    Monitor --> Revalidate[Cache Revalidation<br/>revalidatePath<br/>revalidateTag<br/>On-demand updates]
    
    Monitor --> Update[Update Dependencies<br/>Security patches<br/>Feature updates]
    
    Analytics --> End([Continuous Improvement])
    Revalidate --> End
    Update --> End
    
    style Start fill:#e1f5e1
    style Live fill:#e1f5e1
    style End fill:#e1f5e1
    
    style ServerComp fill:#ffe1e1
    style ClientComp fill:#e1e1ff
    
    style SSR fill:#fff3cd
    style SSG fill:#fff3cd
    style ISR fill:#fff3cd
    style CSR fill:#fff3cd
    
    style Vercel fill:#d4edda
            </div>

            <div class="legend">
                <div class="legend-item">
                    <div class="color-box" style="background: #e1f5e1;"></div>
                    <span>Start/End Points</span>
                </div>
                <div class="legend-item">
                    <div class="color-box" style="background: #ffe1e1;"></div>
                    <span>Server Components</span>
                </div>
                <div class="legend-item">
                    <div class="color-box" style="background: #e1e1ff;"></div>
                    <span>Client Components</span>
                </div>
                <div class="legend-item">
                    <div class="color-box" style="background: #fff3cd;"></div>
                    <span>Rendering Strategies</span>
                </div>
                <div class="legend-item">
                    <div class="color-box" style="background: #d4edda;"></div>
                    <span>Deployment</span>
                </div>
            </div>
        </div>

        <!-- Component Decision Diagram -->
        <div id="component" class="diagram-container">
            <h2 class="diagram-title">üéØ Server vs Client Component Decision Tree</h2>
            <p class="diagram-description">Quick guide to choosing the right component type</p>
            
            <div class="info-box">
                <h3>ü§î When to Use Each:</h3>
                <ul>
                    <li><strong>Server Components (Default):</strong> Database queries, file system access, static content</li>
                    <li><strong>Client Components ('use client'):</strong> Interactive UI, event handlers, React hooks, browser APIs</li>
                    <li><strong>Pro Tip:</strong> Start with Server Components and only add 'use client' when you encounter an error</li>
                </ul>
            </div>

            <div class="mermaid">
flowchart TD
    Start([Creating a Component]) --> Question1{Does it need<br/>browser interactivity?}
    
    Question1 --> |YES| Interactive{What kind of<br/>interactivity?}
    Question1 --> |NO| ServerComp[‚úÖ Server Component<br/>DEFAULT - No directive needed]
    
    Interactive --> Events[Event Handlers<br/>onClick, onChange, onSubmit]
    Interactive --> Hooks[React Hooks<br/>useState, useEffect, useContext]
    Interactive --> Browser[Browser APIs<br/>localStorage, window, document]
    
    Events --> ClientComp[‚úÖ Client Component<br/>Add 'use client' at top]
    Hooks --> ClientComp
    Browser --> ClientComp
    
    ServerComp --> ServerBenefits[Benefits:<br/>‚úì Smaller bundle size<br/>‚úì Access databases directly<br/>‚úì Read file system<br/>‚úì Keep secrets secure<br/>‚úì Better SEO]
    
    ClientComp --> ClientBenefits[Benefits:<br/>‚úì Interactive UI<br/>‚úì Use React hooks<br/>‚úì Handle user events<br/>‚úì Access browser APIs<br/>‚úì Real-time updates]
    
    ServerBenefits --> ServerExamples[Examples:<br/>‚Ä¢ Fetching data from DB<br/>‚Ä¢ Reading server files<br/>‚Ä¢ Static content<br/>‚Ä¢ Blog posts<br/>‚Ä¢ Product listings]
    
    ClientBenefits --> ClientExamples[Examples:<br/>‚Ä¢ Forms with validation<br/>‚Ä¢ Search with autocomplete<br/>‚Ä¢ Shopping cart<br/>‚Ä¢ Interactive charts<br/>‚Ä¢ Real-time chat]
    
    ServerExamples --> Tip[üí° TIP: Start with Server Component<br/>Switch to Client Component only when needed]
    ClientExamples --> Tip
    
    Tip --> End([Component Created!])
    
    style Start fill:#e1f5e1
    style End fill:#e1f5e1
    style ServerComp fill:#ffe1e1
    style ClientComp fill:#e1e1ff
    style Tip fill:#fff3cd
            </div>
        </div>

        <!-- Rendering Strategies Diagram -->
        <div id="rendering" class="diagram-container">
            <h2 class="diagram-title">‚ö° Rendering Strategies Comparison</h2>
            <p class="diagram-description">Choose the optimal rendering strategy for your use case</p>
            
            <div class="info-box">
                <h3>üìä Quick Comparison:</h3>
                <ul>
                    <li><strong>SSG (Fastest):</strong> Perfect for blogs, docs, landing pages - pre-rendered at build time</li>
                    <li><strong>ISR (Balanced):</strong> Great for e-commerce, news - static with periodic updates</li>
                    <li><strong>SSR (Fresh):</strong> Ideal for dashboards, user profiles - rendered per request</li>
                    <li><strong>CSR (Interactive):</strong> Best for real-time apps, complex interactions - rendered in browser</li>
                </ul>
            </div>

            <div class="mermaid">
graph TB
    subgraph "Next.js Rendering Strategies"
        Start([Choose Rendering Strategy]) --> Decision{Content Type?}
        
        Decision --> Static{Rarely changes?<br/>Can pre-build?}
        Decision --> Dynamic{Changes frequently?<br/>User-specific?}
        Decision --> SemiStatic{Updates occasionally?<br/>After deployment?}
        Decision --> Interactive{Highly interactive?<br/>Real-time?}
        
        Static --> SSG[SSG - Static Site Generation]
        Dynamic --> SSR[SSR - Server-Side Rendering]
        SemiStatic --> ISR[ISR - Incremental Static Regeneration]
        Interactive --> CSR[CSR - Client-Side Rendering]
    end
    
    subgraph "SSG Details"
        SSG --> SSG1[When: Build Time]
        SSG1 --> SSG2[How: Pre-render all pages]
        SSG2 --> SSG3[Cache: Forever until rebuild]
        SSG3 --> SSG4[Use Cases:<br/>‚Ä¢ Blogs<br/>‚Ä¢ Documentation<br/>‚Ä¢ Marketing pages<br/>‚Ä¢ Landing pages]
        SSG4 --> SSG5[Code Example:<br/>cache: 'force-cache']
        SSG5 --> SSGPros[Pros: ‚ö° Fastest<br/>‚úì Best SEO<br/>‚úì CDN cacheable]
        SSGPros --> SSGCons[Cons: ‚ö†Ô∏è No dynamic data<br/>‚ö†Ô∏è Must rebuild for updates]
    end
    
    subgraph "SSR Details"
        SSR --> SSR1[When: Every Request]
        SSR1 --> SSR2[How: Server renders on demand]
        SSR2 --> SSR3[Cache: None or short-lived]
        SSR3 --> SSR4[Use Cases:<br/>‚Ä¢ Dashboards<br/>‚Ä¢ User profiles<br/>‚Ä¢ Personalized content<br/>‚Ä¢ News feeds]
        SSR4 --> SSR5[Code Example:<br/>cache: 'no-store']
        SSR5 --> SSRPros[Pros: ‚úì Always fresh<br/>‚úì User-specific<br/>‚úì SEO-friendly]
        SSRPros --> SSRCons[Cons: ‚ö†Ô∏è Slower TTFB<br/>‚ö†Ô∏è Server load]
    end
    
    subgraph "ISR Details"
        ISR --> ISR1[When: Build + Background Updates]
        ISR1 --> ISR2[How: Regenerate after interval]
        ISR2 --> ISR3[Cache: Until revalidation time]
        ISR3 --> ISR4[Use Cases:<br/>‚Ä¢ E-commerce products<br/>‚Ä¢ News sites<br/>‚Ä¢ Social media feeds<br/>‚Ä¢ Updated content]
        ISR4 --> ISR5[Code Example:<br/>revalidate: 3600]
        ISR5 --> ISRPros[Pros: ‚úì Best of both worlds<br/>‚úì Fast + Fresh<br/>‚úì CDN cacheable]
        ISRPros --> ISRCons[Cons: ‚ö†Ô∏è Slightly stale data<br/>‚ö†Ô∏è More complex]
    end
    
    subgraph "CSR Details"
        CSR --> CSR1[When: In Browser]
        CSR1 --> CSR2[How: JavaScript renders]
        CSR2 --> CSR3[Cache: Handled by client]
        CSR3 --> CSR4[Use Cases:<br/>‚Ä¢ Interactive dashboards<br/>‚Ä¢ Real-time apps<br/>‚Ä¢ Charts/graphs<br/>‚Ä¢ Client-only features]
        CSR4 --> CSR5[Code Example:<br/>'use client' + useEffect]
        CSR5 --> CSRPros[Pros: ‚úì Highly interactive<br/>‚úì Real-time updates<br/>‚úì Rich UX]
        CSRPros --> CSRCons[Cons: ‚ö†Ô∏è Poor SEO<br/>‚ö†Ô∏è Slower initial load<br/>‚ö†Ô∏è Large bundle]
    end
    
    SSGCons --> Compare[Compare Performance]
    SSRCons --> Compare
    ISRCons --> Compare
    CSRCons --> Compare
    
    Compare --> Metrics{Performance Metrics}
    
    Metrics --> Speed[Speed Ranking:<br/>1Ô∏è‚É£ SSG Fastest<br/>2Ô∏è‚É£ ISR Fast<br/>3Ô∏è‚É£ SSR Medium<br/>4Ô∏è‚É£ CSR Slowest initial]
    
    Metrics --> SEO[SEO Ranking:<br/>1Ô∏è‚É£ SSG/ISR Best<br/>2Ô∏è‚É£ SSR Good<br/>3Ô∏è‚É£ CSR Poor]
    
    Metrics --> Fresh[Freshness Ranking:<br/>1Ô∏è‚É£ SSR Always fresh<br/>2Ô∏è‚É£ CSR Real-time<br/>3Ô∏è‚É£ ISR Periodic<br/>4Ô∏è‚É£ SSG Stale until rebuild]
    
    Speed --> Recommendation
    SEO --> Recommendation
    Fresh --> Recommendation
    
    Recommendation{üí° Best Practice}
    
    Recommendation --> Hybrid[Use Hybrid Approach:<br/>SSG for static pages<br/>ISR for semi-dynamic<br/>SSR for user-specific<br/>CSR for interactive parts]
    
    Hybrid --> Example[Example App:<br/>‚Ä¢ Homepage ‚Üí SSG<br/>‚Ä¢ Product pages ‚Üí ISR<br/>‚Ä¢ User dashboard ‚Üí SSR<br/>‚Ä¢ Live chat widget ‚Üí CSR]
    
    Example --> End([Choose Based on Needs])
    
    style Start fill:#e1f5e1
    style End fill:#e1f5e1
    style SSG fill:#d4edda
    style SSR fill:#fff3cd
    style ISR fill:#cfe2ff
    style CSR fill:#f8d7da
    style Hybrid fill:#e1f5e1
            </div>

            <div class="legend">
                <div class="legend-item">
                    <div class="color-box" style="background: #d4edda;"></div>
                    <span>SSG - Fastest</span>
                </div>
                <div class="legend-item">
                    <div class="color-box" style="background: #cfe2ff;"></div>
                    <span>ISR - Balanced</span>
                </div>
                <div class="legend-item">
                    <div class="color-box" style="background: #fff3cd;"></div>
                    <span>SSR - Fresh</span>
                </div>
                <div class="legend-item">
                    <div class="color-box" style="background: #f8d7da;"></div>
                    <span>CSR - Interactive</span>
                </div>
            </div>
        </div>
    </div>

    <div class="zoom-controls">
        <button class="zoom-btn" onclick="zoomIn()" title="Zoom In">+</button>
        <button class="zoom-btn" onclick="zoomOut()" title="Zoom Out">-</button>
        <button class="zoom-btn" onclick="resetZoom()" title="Reset Zoom">‚ü≤</button>
    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        let currentZoom = 1;

        function showDiagram(id) {
            // Hide all diagrams
            document.querySelectorAll('.diagram-container').forEach(container => {
                container.classList.remove('active');
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // Show selected diagram
            document.getElementById(id).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Reset zoom
            resetZoom();
        }

        function zoomIn() {
            currentZoom += 0.1;
            applyZoom();
        }

        function zoomOut() {
            if (currentZoom > 0.3) {
                currentZoom -= 0.1;
                applyZoom();
            }
        }

        function resetZoom() {
            currentZoom = 1;
            applyZoom();
        }

        function applyZoom() {
            document.querySelectorAll('.mermaid svg').forEach(svg => {
                svg.style.transform = `scale(${currentZoom})`;
                svg.style.transformOrigin = 'center top';
            });
        }

        // Render mermaid diagrams after page load
        window.addEventListener('load', () => {
            mermaid.init(undefined, '.mermaid');
        });
    </script>
</body>
</html>